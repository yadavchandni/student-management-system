!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";function r(t,n,r,o){return o=o||e.requestImpl.base(),"/"!==o[o.length-1]&&(o+="/"),e.requestImpl.img(o+t+"/"+n+"?"+e.requestImpl.queryString(r))}function o(t){u=t}function i(t,e){return r("internal_errors","page",{name:t.name,line:t.lineNumber||t.line,script:t.fileName||t.sourceURL||t.script,stack:t.stackTrace||t.stack||t.description,message:t.message,url:a.href(),context:void 0!==e?e:null,appConfig:u||null})}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1);e.requestImpl={base:function(){return"https://v.shopify.com/"},img:function(t){var e=new Image(1,1);return e.src=t,e.style.display="none",e},queryString:function(t){var e=[];for(var n in t)("number"==typeof t[n]||t[n])&&("object"==typeof t[n]&&0===Object.keys(t[n]).length||e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n])));if(function(t){for(var e=t.length;e>0;--e){var n=Math.floor(Math.random()*e),r=t[n];t[n]=t[e-1],t[e-1]=r}}(e),e.length>1&&0===e[0].indexOf("event=")){var r=e[0];e[0]=e[1],e[1]=r}return e.join("&")}},e.load=r;var u=void 0;e.setGlobalSerializedAppConfig=o,e.internalError=i},function(t,e,n){"use strict";function r(){return h.virtualWindow().location().hash}function o(){return h.virtualWindow().location().host}function i(){return h.virtualWindow().location().hostname}function a(){return h.virtualWindow().location().href}function u(t){h.virtualWindow().location().href=t}function s(){var t=h.virtualWindow().location();return t.origin?t.origin:t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}function c(){return h.virtualWindow().location().pathname}function p(){return h.virtualWindow().location().port}function l(){return h.virtualWindow().location().protocol}function f(){return h.virtualWindow().location().search}function d(t){return t=t||i(),null!==t.match(/(^|\.)shopify\.com$/)}Object.defineProperty(e,"__esModule",{value:!0});var h=n(4);e.hash=r,e.host=o,e.hostname=i,e.href=a,e.setHref=u,e.origin=s,e.pathname=c,e.port=p,e.protocol=l,e.search=f,e.isShopifyDotCom=d},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){this.options={},this.options=r({},t,e)}return t.flatten=function(t){var e=r({},t);return e.properties={},r({},e,t.properties)},t.isEqual=function(t,e){for(var n in t)if(t[n]!==e[n])return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0},t}();e.Integration=o},function(t,e,n){"use strict";function r(){return i}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.cookie=function(){return document.cookie},t.prototype.setCookie=function(t){document.cookie=t},t.prototype.body=function(){return document.body},t.prototype.referrer=function(){return document.referrer},t.prototype.title=function(){return document.title},t.prototype.createElement=function(t){return document.createElement(t)},t.prototype.dispatchEvent=function(t){return document.dispatchEvent(t)},t.prototype.querySelector=function(t){return document.querySelector(t)},t.prototype.querySelectorAll=function(t){return document.querySelectorAll(t)},t.prototype.documentElement=function(){return document.documentElement},t.prototype.getElementsByTagName=function(t){return document.getElementsByTagName(t)},t.prototype.createCustomEvent=function(t,e){try{return new CustomEvent(t,e)}catch(r){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}},t}(),i=new o;e.virtualDocument=r},function(t,e,n){"use strict";function r(){return i}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.nativeWindow=t}return t.prototype.location=function(){return this.nativeWindow.location},t.prototype.userAgent=function(){return this.nativeWindow.navigator.userAgent},t.prototype.crypto=function(){return this.nativeWindow.crypto||this.nativeWindow.msCrypto},t.prototype.top=function(){return this.nativeWindow.top?new t(this.nativeWindow.top):void 0},t.prototype.parent=function(){return this.nativeWindow.parent?new t(this.nativeWindow.parent):void 0},t.prototype.postMessage=function(t,e,n){this.nativeWindow.postMessage(t,e,n)},t.prototype.addEventListener=function(t,e,n){this.nativeWindow.addEventListener(t,e,n)},t.prototype.performance=function(){return this.nativeWindow.performance},t.prototype.onload=function(){throw new Error("Do not use window.onload due to compatibility reasons. Use addEventListener instead of window.onload")},t.prototype.supportsNavigationTiming=function(){return"PerformanceNavigationTiming"in this.nativeWindow},t.prototype.supportsPaintTiming=function(){return"PerformancePaintTiming"in this.nativeWindow},t}(),i=new o(window);e.virtualWindow=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exportVar="analytics",e.enabledIntegrations=[];var r=n(13);e.enabledIntegrations.push(["Optimizely",r.Optimizely]);var o=n(14);e.enabledIntegrations.push(["Clickstream",o.Clickstream])},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n],i=o[0];t[i]===t.ready&&t[i].apply(t,o.slice(1))}for(var a=0,u=e;a<u.length;a++){var o=u[a],i=o[0];t[i]&&t[i]!==t.ready&&t[i].apply(t,o.slice(1))}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(5),a=n(0);e.replayAnalyticsQueue=r;try{var u=window[i.exportVar].config;if(u){a.setGlobalSerializedAppConfig(JSON.stringify(u));var s=window[i.exportVar],c=window.trekkie=new o.Tricorder(u,function(){window[i.exportVar]=c,window._visit={tag:function(){},multitrackToken:function(){return c.trekkie.defaultAttributes.uniqToken}},c.user=function(){return{traits:function(){return{uniqToken:c.trekkie.defaultAttributes.uniqToken}}}},r(c,s)})}}catch(t){a.internalError(t)}},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(5),a=n(0),u=n(3),s=n(1),c=/^https?:\/\//,p=function(){function t(t,e){var n=this;this.integrations=[],this.trekkie=new o.Trekkie(t.Trekkie,function(){setTimeout(function(){n.loadIntegrations(i.enabledIntegrations,t,n.trekkie,e)},0)}),this.integrations[0]!==this.trekkie&&this.integrations.unshift(this.trekkie)}return t.prototype.loadIntegrations=function(t,e,n,r){for(var o=this.waitFor(t.length,function(){try{r()}catch(t){a.internalError(t)}}),i=0,u=t;i<u.length;i++){var s=u[i];try{var c=e[s[0]];if(c&&"object"==typeof c){var p=s[1];this.integrations.push(new p(c,n,o))}else o()}catch(t){o(),a.internalError(t)}}},t.prototype.identify=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});try{t instanceof Object&&(e=t,t="");for(var n=0,r=this.integrations;n<r.length;n++){r[n].identify({id:t,properties:e})}}catch(t){a.internalError(t)}},t.prototype.page=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});try{t instanceof Object&&(e=t,t="");var n=this.pageDefaults();n.name=t,n.properties=r({},n.properties,e);for(var o=0,i=this.integrations;o<i.length;o++){i[o].page(n)}}catch(t){a.internalError(t)}},t.prototype.track=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});try{t instanceof Object&&(e=t,t="");for(var n=0,r=this.integrations;n<r.length;n++){r[n].track({event:t,properties:e})}}catch(t){a.internalError(t)}},t.prototype.ready=function(t){try{t()}catch(t){a.internalError(t)}},t.prototype.waitFor=function(t,e){return 0===t?(setTimeout(e,0),function(){}):function(){0===--t&&setTimeout(e,0)}},t.prototype.pageDefaults=function(){var t=s.href(),e=t.indexOf("?");return t=-1===e?"":t.slice(e),e=t.indexOf("#"),t=-1===e?t:t.slice(0,e),t="?"===t?"":t,{referrer:u.virtualDocument().referrer(),path:s.pathname(),search:t,title:u.virtualDocument().title(),url:this.url(),properties:{}}},t.prototype.canonical=function(){for(var t=u.virtualDocument().getElementsByTagName("link"),e=0;e<t.length;e++){var n=t[e];if("canonical"===n.getAttribute("rel")){var r=n.getAttribute("href");if(!c.test(r))continue;if(r.replace(c,"").length<=5)continue;return r}}return""},t.prototype.url=function(){var t=this.canonical();if(t)return t.indexOf("?")>0?t:t+s.search();var e=s.href(),n=e.indexOf("#");return-1===n?e:e.slice(0,n)},t}();e.Tricorder=p},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(0),u=n(9),s=n(10),c=n(12),p=function(t){function e(e,n){var r=t.call(this,{},e)||this;return r.init(e,n),r}return r(e,t),e.prototype.init=function(t,e){this.defaultAttributes={appName:t.appName,uniqToken:s.longTerm(),visitToken:s.shortTerm(),microSessionId:s.buildToken(),microSessionCount:0,firstSeen:s.firstSeen()},t.defaultAttributes&&(this.defaultAttributes=o({},t.defaultAttributes,this.defaultAttributes)),this.monorailEndpoint=c.endpoints.global,t.monorailEndpoint&&(this.monorailEndpoint={url:t.monorailEndpoint}),t.development&&(this.monorailEndpoint=c.endpoints.staging),e()},e.prototype.identify=function(t){},e.prototype.page=function(t){var e=u.appNameToPageViewSchemaId[this.defaultAttributes.appName];this.emit("page",t,e)},e.prototype.track=function(t){var e=u.extractSchemaIdFromEventName(t.event);this.emit("track",t,e,void 0!==e)},e.prototype.emit=function(t,e,n,r){++this.defaultAttributes.microSessionCount,e=i.Integration.flatten(e);var u=o({},e,this.defaultAttributes);u.eventType=t;var s=this.options,p=s.development?"testing":s.appName;r||a.load(p,t,u,s.endpointBase),n&&c.produce(this.monorailEndpoint,n,u)},e}(i.Integration);e.Trekkie=p},function(t,e,n){"use strict";function r(t){var e=t.toLowerCase();if(0===e.lastIndexOf("monorail://")&&e.length>"monorail://".length)return e.substr("monorail://".length)}Object.defineProperty(e,"__esModule",{value:!0}),e.appNameToPageViewSchemaId={development:"edge_test/1.0",testing:"edge_test/1.0",brochure:"trekkie_brochure_page_view/1.0",checkout:"trekkie_checkout_page_view/1.1",docs:"trekkie_docs_page_view/1.0",storefront:"trekkie_storefront_page_view/1.1","oberlo-home":"trekkie_oberlo_home_page_view/1.0",opinions:"trekkie_opinions_page_view/1.0",oberlo:"trekkie_oberlo_app_page_view/1.0",blog:"trekkie_blog_page_view/1.0",exchange:"trekkie_exchange_page_view/1.0",appstore:"trekkie_appstore_page_view/1.0","marketing-misc":"trekkie_marketing_misc_page_view/1.0",smiley:"trekkie_smiley_page_view/1.0",themestore:"trekkie_themestore_page_view/1.0",partners:"trekkie_partners_page_view/1.0"},e.extractSchemaIdFromEventName=r},function(t,e,n){"use strict";function r(){return!!p.read(e.shortTermKey)||!!p.read(e.deprecatedShortTermKey)}function o(){return!!p.read(e.longTermKey)||!!p.read(e.deprecatedLongTermKey)}function i(){return h.fetchOrSet(!1,e.deprecatedShortTermKey,e.shortTermKey)}function a(){return h.fetchOrSet(!0,e.deprecatedLongTermKey,e.longTermKey)}function u(){return h.build()}function s(){return v.fetchOrSet(e.firstSeenKey)}function c(){return h.hexTime()}Object.defineProperty(e,"__esModule",{value:!0});var p=n(11),l=n(4);e.deprecatedShortTermKey="_s",e.shortTermKey="_shopify_s",e.deprecatedLongTermKey="_y",e.longTermKey="_shopify_y",e.firstSeenKey="_shopify_fs";var f="00000000",d="xxxx-4xxx-xxxx-xxxxxxxxxxxx",h={fetch:function(t){return p.read(t)},fetchOrSet:function(t,e,n){if(!p.enabled())return"00000000-0000-0000-4000-000000000000";var r=h.fetch(n)||h.fetch(e);r||(r=h.build());var o={permanent:t};return p.write(e,r,o),p.write(n,r,o),r},build:function(){var t="";try{var e=l.virtualWindow().crypto(),n=new Uint16Array(31);e.getRandomValues(n);var r=0;t=d.replace(/[x]/g,function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=n[r]%16,a="x"===t?i:3&i|8;return r++,a.toString(16)}).toUpperCase()}catch(e){t=d.replace(/[x]/g,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=16*Math.random()|0;return("x"===t?r:3&r|8).toString(16)}).toUpperCase()}return h.hexTime()+"-"+t},hexTime:function(){var t=0,e=0;try{t=Date.now()>>>0}catch(e){t=(new Date).getTime()>>>0}try{e=performance.now()>>>0}catch(t){e=0}var n=Math.abs(t+e).toString(16).toLowerCase();return f.substr(0,8-n.length)+n}},v={fetch:function(t){return p.read(t)},fetchOrSet:function(t){var e=v.fetch(t)||(new Date).toJSON(),n={permanent:!0};return p.write(t,e,n),e}};e.hasShortTerm=r,e.hasLongTerm=o,e.shortTerm=i,e.longTerm=a,e.buildToken=u,e.firstSeen=s,e.hexTime=c},function(t,e,n){"use strict";function r(){return e.cookieImpl.enabled()}function o(t){return e.cookieImpl.read(t)}function i(t,n,r){void 0===r&&(r={}),a(t,n,r.permanent,e.shopifyCookie.domain(s.hostname())),a(t,n,r.permanent,l),a(t,n,r.permanent,f),a(t,n,r.permanent,r.domain),a(t,n,r.permanent,"")}function a(t,n,r,o){var i={maxage:r?p:c,domain:o,path:"/"};e.cookieImpl.write(t,n,i)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(3),s=n(1),c=18e5,p=62208e6,l=".myshopify.com",f=".oberlo.com";e.cookieImpl={parse:function(t){for(var e={},n=0,r=t.split(/ *; */);n<r.length;n++){var o=r[n],i=o.split("=");try{e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}catch(t){}}return e},read:function(t){if(e.cookieImpl.enabled())return e.cookieImpl.parse(u.virtualDocument().cookie())[t]},write:function(t,n,r){if(void 0===r&&(r={}),e.cookieImpl.enabled()){var o=encodeURIComponent(t)+"="+encodeURIComponent(n);r.maxage&&(r.expires=new Date(Date.now()+r.maxage)),r.path&&(o+="; path="+r.path),r.domain&&(o+="; domain="+r.domain),r.expires&&(o+="; expires="+r.expires.toUTCString()),r.secure&&(o+="; secure"),u.virtualDocument().setCookie(o)}},enabled:function(){try{if(void 0===u.virtualDocument().cookie())return!1;u.virtualDocument().setCookie("cookietest=1");var t=-1!==u.virtualDocument().cookie().indexOf("cookietest=");return u.virtualDocument().setCookie("cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"),t}catch(t){return!1}}},e.enabled=r,e.read=o,e.write=i,e.shopifyCookie={domain:function(t){var e=t.indexOf("shopify");return 0===e?"."+t:e>0?t.slice(e-1):".shopify.com"}}},function(t,e,n){"use strict";function r(t,e,n){var r=(new Date).getTime(),i={schema_id:e,payload:n,metadata:{event_created_at_ms:r,event_sent_at_ms:r}};if(window&&window.navigator&&"function"==typeof window.navigator.sendBeacon&&"function"==typeof window.Blob&&!o()){var a=new window.Blob([JSON.stringify(i)],{type:"text/plain"});if(window.navigator.sendBeacon(t.url,a))return!0}var u=new XMLHttpRequest;try{u.open("POST",t.url),u.setRequestHeader("Content-Type","text/plain"),u.send(JSON.stringify(i))}catch(t){console.log(t)}return!1}function o(){return-1!==window.navigator.userAgent.lastIndexOf("iPhone; CPU iPhone OS 12_")||-1!==window.navigator.userAgent.lastIndexOf("iPad; CPU OS 12_")}Object.defineProperty(e,"__esModule",{value:!0}),e.endpoints={global:{url:"https://monorail-edge.shopifysvc.com/v1/produce"},staging:{url:"https://monorail-edge-staging.shopifycloud.com/v1/produce"},canada:{url:"https://monorail-edge-ca.shopifycloud.com/v1/produce"}},e.produce=r},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),a=n(0),u=function(t){function e(n,r,o){var i=t.call(this,e.defaultOptions,n)||this;return i.trekkie=r,o(),i}return r(e,t),e.prototype.page=function(t){var e=this,n=this.options,r=setInterval(function(){try{e.isOptimizelyLoaded()&&(e.doPage(t),clearInterval(r))}catch(t){a.internalError(t)}},n.pollInterval)},e.prototype.identify=function(t){},e.prototype.track=function(t){},e.prototype.isOptimizelyLoaded=function(){return!!window.optimizely&&!!window.optimizely.get},e.prototype.doPage=function(t){var e=window.optimizely.get("state");if(e&&0!==e.getActiveExperimentIds().length)for(var n=0,r=e.getActiveExperimentIds();n<r.length;n++){var a=r[n],u=e.getExperimentStates()[a];if(u){var s={experimentId:a,experimentName:u.experimentName,variantId:u.variation.id,variantName:u.variation.name};this.trekkie.track({event:"optimizely_experiment",properties:o({},i.Integration.flatten(t),s)})}}},e.defaultOptions={pollInterval:1e3},e}(i.Integration);e.Optimizely=u},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=n(15),a=n(0),u=n(3),s=n(1),c=function(t){function e(e,n,r){var o=t.call(this,{},e)||this;o.config={storageKey:"_trekkie_cs",eventName:"click",customEventName:"trekkie-clickstream",validTargets:["a","button","input","select","textarea"],validInputSubTypes:["submit","file","radio","checkbox","text","email","search","tel","url","password","number","range","button","reset"],safeInputSubTypes:["submit","radio","checkbox","button","reset"],appName:null,flushInterval:5,instantFlush:!1},o.trekkie=n,o.config.appName=n.options.appName;var i=e.flushInterval;void 0!==i&&"number"==typeof i&&(o.config.flushInterval=i);var a=e.instantFlush;return void 0!==a&&"boolean"==typeof a&&(o.config.instantFlush=a),o.config.instantFlush?o.clickQueue=o.createInstantQueue():o.clickQueue=o.createPersistedQueue(),o.flushClickEvents(),o.setClickListener(),o.setFlushInterval(),r(),o}return r(e,t),e.prototype.identify=function(t){},e.prototype.page=function(t){this.flushClickEvents()},e.prototype.track=function(t){var e=this;t.event===this.config.eventName&&setTimeout(function(){e.trekkie.emit("clickstream",t)},0)},e.prototype.createPersistedQueue=function(){return new i.PersistedQueue(this.config.storageKey)},e.prototype.createInstantQueue=function(){var t=this;return new(function(){function e(){}return e.prototype.push=function(e){t.track({event:t.config.eventName,properties:e})},e.prototype.all=function(){return[]},e.prototype.clear=function(){},e}())},e.prototype.setFlushInterval=function(){var t=this;this.config.flushInterval>0&&setInterval(function(){t.flushClickEvents()},1e3*this.config.flushInterval)},e.prototype.flushClickEvents=function(){for(var t=0,e=this.clickQueue.all();t<e.length;t++){var n=e[t];this.track({event:this.config.eventName,properties:n})}this.clickQueue.clear()},e.prototype.setClickListener=function(){var t=this;u.virtualDocument().documentElement().addEventListener("click",function(e){t.trackClick(e)},!0)},e.prototype.trackClick=function(t){try{var e=this.preparePayload(this.resolveRawClickEvent(t));if(!e)return;this.clickQueue.push(e);try{u.virtualDocument().dispatchEvent(new CustomEvent(this.config.customEventName,{detail:e}))}catch(t){}}catch(t){a.internalError(t)}},e.prototype.preparePayload=function(t){if(!t.resolved)return null;var e=t.clicked;return{app_name:this.config.appName,url:s.href(),target_text:this.getTextLabelFromHTMLElement(e),target_tagname:e.tagName,target_classname:this.getClassName(e),target_id:e.id,target_trekkie_context:t.data&&Object.getOwnPropertyNames(t.data).length>0?JSON.stringify(t.data):null,target_url:e.getAttribute("href"),target_form_input_type:this.isHTMLFormInputSubType(e)?e.type:null,target_form_action:this.isHTMLFormInputSubType(e)?this.getHTMLFormAction(e):null,target_form_relative_position:this.isHTMLFormInputSubType(e)?this.getFormRelativePosition(e):null}},e.prototype.resolveRawClickEvent=function(t){for(var e=t.target,n={clicked:e,resolved:void 0,data:{}};e;){!n.resolved&&this.shouldTrack(e)&&(n.resolved=e);for(var r=0,o=Array.prototype.slice.call(e.attributes);r<o.length;r++){var i=o[r];i&&i.value&&!n.data[i.name]&&i.name.match(/^data-trekkie-.*/)&&(n.data[i.name]=i.value)}e=this.parentElement(e)}return n},e.prototype.parentElement=function(t){var e=t.parentNode;return e.parentNode?e:void 0},e.prototype.shouldTrack=function(t){var e=t.tagName?t.tagName.toLowerCase():"";if("input"===e)return this.config.validInputSubTypes.indexOf(t.type.toLowerCase())>=0;for(var n=0;n<t.attributes.length;n++){var r=t.attributes.item(n);if("data-trekkie-id"===r.name&&r.value)return!0}return this.config.validTargets.indexOf(e)>=0},e.prototype.getClassName=function(t){return"object"==typeof t.className?t.parentElement.getAttribute("class"):t.className},e.prototype.getTextLabelFromHTMLElement=function(t){switch(t.tagName.toLowerCase()){case"input":return this.config.safeInputSubTypes.indexOf(t.type)>-1?t.value:t.name;case"select":var e=t.options.selectedIndex;return e>-1?t.options[e].text:"No value chosen";case"textarea":return t.name||"";default:return this.getTargetText(t)||this.getTextLabelFromParentHTMLElement(t)}},e.prototype.getTextLabelFromParentHTMLElement=function(t){for(;t.parentNode;)if(t=t.parentNode,t.tagName&&-1!==this.config.validTargets.indexOf(t.tagName.toLowerCase()))return this.getTargetText(t)},e.prototype.getTargetText=function(t){var e=t.innerText||t.textContent;if(e)return this.dedupTargetText(e.replace(/\s+/g," ").trim())},e.prototype.dedupTargetText=function(t){if(-1===t.indexOf(" "))return t;var e={};return t.split(" ").filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)}).join(" ")},e.prototype.getHTMLFormAction=function(t){for(;t.parentNode;)if((t=t.parentNode)&&t.tagName&&"form"===t.tagName.toLowerCase()){var e=t.attributes.getNamedItem("action");if(e&&e.value)return e.value}return""},e.prototype.isHTMLFormInputSubType=function(t){return-1!==["input","select","textarea"].indexOf(t.tagName.toLowerCase())},e.prototype.getFormRelativePosition=function(t){switch(t.tagName.toLowerCase()){case"select":return t.options.selectedIndex;default:return null}},e}(o.Integration);e.Clickstream=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),o=function(){function t(t){this.queue=[],this.storage=new r.LocalStorage(t);var e=this.storage.get();null!==e&&(this.queue=JSON.parse(e))}return t.prototype.push=function(t){this.queue.push(t),this.persist()},t.prototype.all=function(){return this.queue},t.prototype.clear=function(){this.queue=[],this.persist()},t.prototype.persist=function(){this.storage.set(JSON.stringify(this.queue))},t}();e.PersistedQueue=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.storageName=t,this.storage=localStorage,this.storageEnabled=this.checkLocalStorageAvailability()}return t.prototype.get=function(){return this.storageEnabled?this.storage.getItem(this.storageName):null},t.prototype.set=function(t){this.storageEnabled&&this.storage.setItem(this.storageName,t)},t.prototype.checkLocalStorageAvailability=function(){try{return this.storage.setItem("test","ok"),this.storage.removeItem("test"),!0}catch(t){return(22===t.code||1014===t.code)&&(this.storage.clear(),!0)}},t}();e.LocalStorage=r}]);